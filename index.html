<!DOCTYPE html>
<html>
<head>
    <title>Mi Asistente IA ‚ú®</title>
    <style>
        body { font-family: Arial; max-width: 800px; margin: 50px auto; padding: 20px; }
        .chat-container { border: 1px solid #ddd; height: 400px; overflow-y: scroll; padding: 20px; margin: 20px 0; }
        input { width: 70%; padding: 12px; }
        button { width: 25%; padding: 12px; background: #0078d4; color: white; border: none; }
        .message { margin: 10px 0; padding: 10px; border-radius: 10px; }
        .user { background: #e3f2fd; }
        .ai { background: #f3f3f3; }
        img { max-width: 300px; border-radius: 10px; }
    </style>
</head>
<body>
    <h1>ü§ñ Mi Asistente IA Personal</h1>
    
    <div id="chat" class="chat-container"></div>
    
    <input id="messageInput" type="text" placeholder="Pregunta algo (ej: ¬øqu√© es Azure?)">
    <button onclick="sendMessage()">Enviar üöÄ</button>

    <script>
        const API_KEY = "G39xgaXifdbd0NGVgwARqIeTyx1gBMovexrnwbklzGvoZylNIiXVJQQJ99CBACR0EKYXJ3w3AAABACOG20eE";  // ‚Üê Pegar tu clave F0
        const ENDPOINT = "https://juanluai1.openai.azure.com/";

        async function sendMessage() {
            const input = document.getElementById('messageInput');
            const userMessage = input.value;
            input.value = '';

            addMessage('T√∫', userMessage, 'user');

            try{
        const res=await fetch(`${ENDPOINT}openai/deployments/gpt-5.2-chat/gpt-5.2-chat/completions?api-version=2024-12-01-preview`,{
            method:'POST',
            headers:{'Content-Type':'application/json','api-key':API_KEY},
            body:JSON.stringify({messages:[{role:'user',content:msg}],max_tokens:200})
        });
        
        if(!res.ok){throw new Error(`HTTP ${res.status}: ${await res.text()}`);}
        const data=await res.json();
        addMessage('ü§ñ IA',data.choices[0].message.content,'ai');
    }catch(e){
        console.error('ERROR:',e);
        addMessage('‚ùå','Error: '+e.message,'ai');
    }
}

function addMessage(sender,text,type){
    document.getElementById('chat').innerHTML+=`<div class="message ${type}"><strong>${sender}:</strong> ${text}</div>`;
    document.getElementById('chat').scrollTop=document.getElementById('chat').scrollHeight;
}

document.getElementById('messageInput').addEventListener('keypress',e=>e.key==='Enter'?sendMessage():0);
       
    </script>
</body>
</html>
